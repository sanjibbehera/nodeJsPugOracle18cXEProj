
- var NormalDBServsList = []
- var HighDBServsList = []
- var CriticalDBServsList = []
- var OverallContentList = []
- var AppsList = []

- NormalDBServsList = typeof(NormalDBServsDataList) != 'undefined' ? NormalDBServsDataList : { }
- HighDBServsList = typeof(HighDBServsDataList) != 'undefined' ? HighDBServsDataList : { }
- CriticalDBServsList = typeof(CriticalDBServsDataList) != 'undefined' ? CriticalDBServsDataList : { }
- OverallContentList = typeof(overallDBList) != 'undefined' ? overallDBList : { }
- AppsList = typeof(appList) != 'undefined' ? appList : { }


br
.row.mb-3
  .col-xl-3.col-lg-6
    .card.card-inverse.card-success
      .card-block.bg-success
        .rotate
          i.fa.fa-user.fa-5x
        .h5.text-capitalize Total Application DB's Monitored:
        each data, i in OverallContentList
          if data.appl_service_status==='TOTAL MONITORED SERVICES'
            .h1.display-1 #{data.counts}
  .col-xl-3.col-lg-6
    .card.card-inverse.card-success
      .card-block.bg-success
        .rotate
          i.fa.fa-user.fa-5x
        .h5.text-capitalize Total DB's Normal Services Count:
        each data, i in OverallContentList
          if data.appl_service_status==='NORMAL'
            .h1.display-1 #{data.counts}
  .col-xl-3.col-lg-6
    .card.card-inverse.card-success
      .card-block.bg-success
        .rotate
          i.fa.fa-user.fa-5x
        .h5.text-capitalize Total DB's High Services Count:
        each data, i in OverallContentList
          if data.appl_service_status==='HIGH'
            .h1.display-1 #{data.counts}
  .col-xl-3.col-lg-6
    .card.card-inverse.card-success
      .card-block.bg-success
        .rotate
          i.fa.fa-user.fa-5x
        .h5.text-capitalize Total DB's Critical Services Count:
        each data, i in OverallContentList
          if data.appl_service_status==='CRITICAL'
            .h1.display-1.text-danger #{data.counts}

.chart-conatiner
  canvas(id="barChart")
  script.
    var servsCtx = document.getElementById('barChart');
    var appsName = !{JSON.stringify(AppsList)};
    var NormalServsLst = !{JSON.stringify(NormalDBServsList)};
    var HighServsLst = !{JSON.stringify(HighDBServsList)};
    var CriticalServsLst = !{JSON.stringify(CriticalDBServsList)};
    var appNameArr = [];
    var NormalServsArr = [];
    var HighServsArr = [];
    var CriticalServsArr = [];
    for(var index in appsName) {
        appNameArr.push(appsName[index].application_name);
    }
    for(var idx in NormalServsLst) {
        NormalServsArr.push(NormalServsLst[idx].counts);
    }
    for(var idy in HighServsLst) {
        HighServsArr.push(HighServsLst[idy].counts);
    }
    for(var idz in CriticalServsLst) {
        CriticalServsArr.push(CriticalServsLst[idz].counts);
    }
    new Chart(servsCtx, {
        type: 'horizontalBar',
        data: {
            labels: appNameArr,
            datasets: [
            {
                backgroundColor: "#3e95cd",
                data:  NormalServsArr
            }, {
                backgroundColor: "#8e5ea2",
                data: HighServsArr
            }, {
                backgroundColor: "#8e5ea2",
                data: CriticalServsArr
            }
            ]
        },
        options: {
            title: {
                display: true,
                text: 'E2E2 DB Services Overview'
            },
            legend: {
                display: false,
            },
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        },
    });